
node{

// To keep last 5 buil only, old one will be delete
        properties([buildDiscarder(logRotator(artifactDaysToKeepStr: '', artifactNumToKeepStr: '5', daysToKeepStr: '', numToKeepStr: '5', removeLastBuild: true)), pipelineTriggers([])])

		 
	// Checkout stage
   	stage('CheckoutCode'){ 
   	git branch: 'development', credentialsId: 'fc94c29f-d9da-45c5-b7e5-b7af1b566cc2', url: 'https://github.com/TheAmitDeokar/mavenwebapp.git'
    	}

        stage('build'){
        sh "sudo usermod -aG docker ubuntu"
        sh "exit"
        sh "docker build -t theamitdeokar/maven-web-application:2 ."
        }
    } // node closing
